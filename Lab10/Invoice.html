<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
      td {
        border: 1px solid black;
      }
      tr {
        border: 1px solid black;
      }
    </style>
    <table style="border: 1px solid black;text-align:center;" 
      onclick="
        new_row = this.appendChild(document.createElement('tr'));
          for (i=1; i<=this.rows[0].cells.length; i++) {
        new_cell = new_row.appendChild(document.createElement('td'));
        new_cell.innerHTML = 'xxx';
        }
      "
    >

  <tbody id="prodTableBody">
    <tr style="border: 1px solid black;">
      <th style="border: 1px solid black;">Product Name</th>
      <th>Price</th></tr>

    <script>
    /* This is the html file
    for the Invoice1 WOD. */

    // Product Data
    var product_quantities = [3, 2, 1, 3, 5];

    // array of all products
    // corresponds to product_quantities array
    // product_quantities[i] is the quantity for products[i]
    products = [
      { 'name': 'small gumball', 'price': 0.02 },
      { 'name': 'medium gumball', 'price': 0.05 },
      { 'name': 'large gumball', 'price': 0.07 },
      { 'name': 'small jawbreaker', 'price': 0.06 },
      { 'name': 'large jawbreaker', 'price': 0.10 }
    ];
    
    for(let prodObj of products) {
      document.write(`
        <tr><td>${prodObj.name}</td>
        <td>${prodObj.price}</td></tr>
      `);
    }
    
    document.write(`</tbody><table>`);

      // Product 1
      var product1 = {'item':'Pencil', 'price':0.99};
      product1.quantity = product_quantities[0];

      // Product 2
      var item2 = 'Pen';
      var price2 = 1.29;

      // Product 3
      var item3 = 'Eraser';
      var price3 = 0.75;

      // Product 4
      var item4 = 'Folder';
      var price4 = 1.65;

      // Product 5
      var item5 = 'Notebook';
      var price5 = 1.99;

      // Compute extended prices
      var extended_price1 = product_quantities[0] * product1.price
      var extended_price2 = product_quantities[1] * price2
      var extended_price3 = product_quantities[2] * price3
      var extended_price4 = product_quantities[3] * price4
      var extended_price5 = product_quantities[4] * price5

      //Compute subtotal
      var subtotal = extended_price1 + extended_price2 + extended_price3 + extended_price4 + extended_price5

      //Compute sales tax
      var salestax = subtotal * 0.0575

      //Compute grand total
      var grandtotal = subtotal + salestax
    </script>

<input type="button" value="Delete Last Row"
onclick = "
prodTableBody.deleteRow(prodTableBody.rows.length - 1)
"
>

</head>
<body>
    <div>
        <table border="2">
          <tbody>
            <tr>
              <th style="text-align: center;" width="43%">Item</th>
              <th style="text-align: center;" width="11%">quantity</th>
              <th style="text-align: center;" width="13%">price</th>
              <th style="text-align: center;" width="54%">extended price</th>
            </tr>
            <tr>
              <td width="43%"><script>document.write(product1.item)</script></td>
              <td align="center" width="11%"><script>document.write(product1.quantity)</script></td>
              <td width="13%">$<script>document.write(product1.price)</script></td>
              <td width="54%">$<script>document.write(extended_price1.toFixed(2))</script></td>
            </tr>
            <tr>
                <td width="43%"><script>document.write(item2)</script></td>
                <td align="center" width="11%"><script>document.write(product_quantities[1])</script></td>
                <td width="13%">$<script>document.write(price2)</script></td>
                <td width="54%">$<script>document.write(extended_price2)</script></td>
            </tr>
            <tr>
                <td width="43%"><script>document.write(item3)</script></td>
                <td align="center" width="11%"><script>document.write(product_quantities[2])</script></td>
                <td width="13%">$<script>document.write(price3)</script></td>
                <td width="54%">$<script>document.write(extended_price3)</script></td>
            </tr>
            <tr>
                <td width="43%"><script>document.write(item4)</script></td>
                <td align="center" width="11%"><script>document.write(product_quantities[3])</script></td>
                <td width="13%">$<script>document.write(price4)</script></td>
                <td width="54%">$<script>document.write(extended_price4.toFixed(2))</script></td>
            </tr>
            <tr>
                <td width="43%"><script>document.write(item5)</script></td>
                <td align="center" width="11%"><script>document.write(product_quantities[4])</script></td>
                <td width="13%">$<script>document.write(price5)</script></td>
                <td width="54%">$<script>document.write(extended_price5)</script></td>
            </tr>
            <tr>
              <td colspan="4" width="100%">&nbsp;</td>
            </tr>
            <tr>
              <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
              <td width="54%">$<script>document.write(subtotal.toFixed(2))</script></td>
            </tr>
            <tr>
              <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @ 5.75%</span></td>
              <td width="54%">$<script>document.write(salestax.toFixed(2))</script></td>
            </tr>
            <tr>
              <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
              <td width="54%"><strong>$<script>document.write(grandtotal.toFixed(2))</script></strong></td>
            </tr>
          </tbody>
        </table>
        </div>
</body>
</html>